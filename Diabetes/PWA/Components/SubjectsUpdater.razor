@inject INetworkHelper Network

@code {
    [Parameter] public LoginUser user { get; set; }
    [Parameter] public EventCallback subjectsUpdated { get; set; }
    public SubjectsUpdater instance;


    protected override async Task OnInitializedAsync()
    {
        if (instance == null)
            instance = this;

        await Update();
    }

    private async Task Update()
    {
        await subjectsUpdated.InvokeAsync(true);
        await Task.Delay(1000);
        Update();
    }
}
